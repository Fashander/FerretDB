---
sidebar_position: 1
description: Create one or more indexes on a collection to improve query performance and enable certain query features.
---

# `createIndexes` Command

import CodeBlock from '@theme/CodeBlock';
import CreateUniqueIndex from '!!raw-loader!../../guides/requests/create-indexes/1-create-unique-indexes.js';
import CreateCompoundIndex from '!!raw-loader!../../guides/requests/create-indexes/2-create-compound-indexes.js';
import CreatePartialIndex from '!!raw-loader!../../guides/requests/create-indexes/3-create-partial-indexes.js';

<!-- Category for Command "Administrative, Diagnostic, and Utility Commands" should be organized per folder as present in the compatibility document -->

<!-- Short description of the command and its usage. -->

Creates one or more indexes on the specified collection.

Indexes improve query performance and enable certain query features (e.g., uniqueness, sorting, partial matches).

<!-- Syntax structure of the command -->

<!-- markdownlint-disable MD033 -->

```js
db.runCommand({
  createIndexes: <collection>,
  indexes: [
    {
      key: <index specification>,
      name: <index name>,
      unique: <boolean>,
      partialFilterExpression: <filter expression>,
      expireAfterSeconds: <integer>
    },
    // ... more index specifications
  ]
})
```

This command accepts a list of index specifications and applies them to a given collection.

<!-- majorly options such as arguments,modieifers, stage, operators, parameters, options supported by the command in a table (if necessary or available). Takes in the following parameters: -->

| Argument/Parameter        | Type    | Description                                                                  |
| ------------------------- | ------- | ---------------------------------------------------------------------------- |
| `createIndexes`           | string  | The name of the collection on which to create the index.                     |
| `indexes`                 | array   | An array of index specification objects. Each object defines one index.      |
| `key`                     | object  | The fields to index and their sort order or type (`1`, `-1`, `"text"`, etc). |
| `name`                    | string  | A required name for the index. Must be unique per collection.                |
| `unique`                  | bool    | Optional. If `true`, ensures all values are unique for the indexed field.    |
| `partialFilterExpression` | object  | Optional. Restricts index to documents matching the condition.               |
| `expireAfterSeconds`      | integer | Optional. For TTL indexes. Automatically deletes documents after set time.   |

## Example Usage

### 1. Create a Unique Index on `isbn`

<CodeBlock language="js">{CreateUniqueIndex}</CodeBlock>

This ensures that each book in the `books` collection has a unique ISBN, preventing duplicates across editions or entries.

### 2. Create Compound Index on `publication.date` and `analytics.average_rating`

<CodeBlock language="js">{CreateCompoundIndex}</CodeBlock>

This compound index can improve performance when filtering or sorting books by their publication date and average rating â€” for example, fetching recent highly rated books.

### 3. Create a Partial Index for Available E-books in India

<CodeBlock language="js">{CreatePartialIndex}</CodeBlock>

This index only applies to documents where the book is released in India and available in E-book format, reducing index size and improving targeted query performance.

## Additional Information

Please find advanced index creation examples here:

- [Vector Indexes](../../guides/vector-search.mdx)
- [TTL Indexes](../../guides/ttl-indexes.mdx)
- [Full-Text Indexes](../../guides/full-text-search.mdx)

## Limitations or Constraints

<!-- markdownlint-enable MD033 -->
